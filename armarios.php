<?php include("conexao.php"); ?>
<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<style>
		




		.armario{
			border: 1px solid red;
			width: 20vw;
			float: left;
		}
		.menu{
			width: 75vw;
			margin-left: 3vw;
			float: left;
		}

		span#display{
			color:red;
		}

		li{
			margin-top: 20px;
		}

		input, select {
			padding: 3px;
			color: red;
			text-align: center;

		}

	</style>

<div class="armario">
	<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
viewBox="0 0 3081 5539"
 xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs>
  <style type="text/css">
   <![CDATA[
    .fil1 {fill:#FEFEFE}
    .fil0 {fill:#373435}
   ]]>
  </style>
 </defs>
 <g id="Camada_x0020_1">
  <metadata id="CorelCorpID_0Corel-Layer"/>
  <rect class="fil0" width="3081" height="5539"/>
  <path class="fil1" valor="1"  status="ocupado"  d="M242 122l489 0 0 1154 -637 0 0 -990 148 -164zm-19 1093l379 0 0 -26 -379 0 0 26zm0 -137l379 0 0 -26 -379 0 0 26zm0 46l379 0 0 -27 -379 0 0 27zm0 46l379 0 0 -27 -379 0 0 27zm-38 -577c17,0 30,19 30,42 0,23 -13,41 -30,41 -17,0 -30,-18 -30,-41 0,-23 13,-42 30,-42z"/>
  <path class="fil1" valor="2" status="" d="M242 1412l489 0 0 1154 -637 0 0 -991 148 -163zm-19 1093l379 0 0 -27 -379 0 0 27zm0 -137l379 0 0 -26 -379 0 0 26zm0 46l379 0 0 -27 -379 0 0 27zm0 46l379 0 0 -27 -379 0 0 27zm-38 -577c17,0 30,18 30,42 0,23 -13,41 -30,41 -17,0 -30,-18 -30,-41 0,-24 13,-42 30,-42z"/>
  <path class="fil1"  valor="3" status="p" d="M242 2702l489 0 0 1154 -637 0 0 -991 148 -163zm-19 1093l379 0 0 -27 -379 0 0 27zm0 -137l379 0 0 -26 -379 0 0 26zm0 46l379 0 0 -27 -379 0 0 27zm0 45l379 0 0 -26 -379 0 0 26zm-38 -576c17,0 30,18 30,42 0,23 -13,41 -30,41 -17,0 -30,-18 -30,-41 0,-24 13,-42 30,-42z"/>
  <path class="fil1"  valor="4" status="" d="M242 3992l489 0 0 1154 -637 0 0 -991 148 -163zm-19 1093l379 0 0 -27 -379 0 0 27zm0 -137l379 0 0 -26 -379 0 0 26zm0 46l379 0 0 -27 -379 0 0 27zm0 45l379 0 0 -26 -379 0 0 26zm-38 -576c17,0 30,18 30,41 0,24 -13,42 -30,42 -17,0 -30,-18 -30,-42 0,-23 13,-41 30,-41z"/>
  <path class="fil1"  valor="5" status="" d="M989 122l490 0 0 1154 -638 0 0 -990 148 -164zm-19 1093l380 0 0 -26 -380 0 0 26zm0 -137l380 0 0 -26 -380 0 0 26zm0 46l380 0 0 -27 -380 0 0 27zm0 46l380 0 0 -27 -380 0 0 27zm-38 -577c17,0 31,19 31,42 0,23 -14,41 -31,41 -16,0 -30,-18 -30,-41 0,-23 14,-42 30,-42z"/>
  <path class="fil1"  valor="6" status="vencido" d="M989 1412l490 0 0 1154 -638 0 0 -991 148 -163zm-19 1093l380 0 0 -27 -380 0 0 27zm0 -137l380 0 0 -26 -380 0 0 26zm0 46l380 0 0 -27 -380 0 0 27zm0 46l380 0 0 -27 -380 0 0 27zm-38 -577c17,0 31,18 31,42 0,23 -14,41 -31,41 -16,0 -30,-18 -30,-41 0,-24 14,-42 30,-42z"/>
  <path class="fil1"  valor="7" status="" d="M989 2702l490 0 0 1154 -638 0 0 -991 148 -163zm-19 1093l380 0 0 -27 -380 0 0 27zm0 -137l380 0 0 -26 -380 0 0 26zm0 46l380 0 0 -27 -380 0 0 27zm0 45l380 0 0 -26 -380 0 0 26zm-38 -576c17,0 31,18 31,42 0,23 -14,41 -31,41 -16,0 -30,-18 -30,-41 0,-24 14,-42 30,-42z"/>
  <path class="fil1"  valor="8" status="" d="M989 3992l490 0 0 1154 -638 0 0 -991 148 -163zm-19 1093l380 0 0 -27 -380 0 0 27zm0 -137l380 0 0 -26 -380 0 0 26zm0 46l380 0 0 -27 -380 0 0 27zm0 45l380 0 0 -26 -380 0 0 26zm-38 -576c17,0 31,18 31,41 0,24 -14,42 -31,42 -16,0 -30,-18 -30,-42 0,-23 14,-41 30,-41z"/>
  <path class="fil1"  valor="9" status="" d="M1737 122l489 0 0 1154 -637 0 0 -990 148 -164zm-19 1093l379 0 0 -26 -379 0 0 26zm0 -137l379 0 0 -26 -379 0 0 26zm0 46l379 0 0 -27 -379 0 0 27zm0 46l379 0 0 -27 -379 0 0 27zm-38 -577c17,0 30,19 30,42 0,23 -13,41 -30,41 -17,0 -31,-18 -31,-41 0,-23 14,-42 31,-42z"/>
  <path class="fil1"  valor="10" status="" d="M1737 1412l489 0 0 1154 -637 0 0 -991 148 -163zm-19 1093l379 0 0 -27 -379 0 0 27zm0 -137l379 0 0 -26 -379 0 0 26zm0 46l379 0 0 -27 -379 0 0 27zm0 46l379 0 0 -27 -379 0 0 27zm-38 -577c17,0 30,18 30,42 0,23 -13,41 -30,41 -17,0 -31,-18 -31,-41 0,-24 14,-42 31,-42z"/>
  <path class="fil1"  valor="11" status="ocupado" d="M1737 2702l489 0 0 1154 -637 0 0 -991 148 -163zm-19 1093l379 0 0 -27 -379 0 0 27zm0 -137l379 0 0 -26 -379 0 0 26zm0 46l379 0 0 -27 -379 0 0 27zm0 45l379 0 0 -26 -379 0 0 26zm-38 -576c17,0 30,18 30,42 0,23 -13,41 -30,41 -17,0 -31,-18 -31,-41 0,-24 14,-42 31,-42z"/>
  <path class="fil1"  valor="12" status="" d="M1737 3992l489 0 0 1154 -637 0 0 -991 148 -163zm-19 1093l379 0 0 -27 -379 0 0 27zm0 -137l379 0 0 -26 -379 0 0 26zm0 46l379 0 0 -27 -379 0 0 27zm0 45l379 0 0 -26 -379 0 0 26zm-38 -576c17,0 30,18 30,41 0,24 -13,42 -30,42 -17,0 -31,-18 -31,-42 0,-23 14,-41 31,-41z"/>
  <path class="fil1"  valor="13" status="ocupado" d="M2484 122l490 0 0 1154 -638 0 0 -990 148 -164zm-19 1093l380 0 0 -26 -380 0 0 26zm0 -137l380 0 0 -26 -380 0 0 26zm0 46l380 0 0 -27 -380 0 0 27zm0 46l380 0 0 -27 -380 0 0 27zm-38 -577c17,0 31,19 31,42 0,23 -14,41 -31,41 -16,0 -30,-18 -30,-41 0,-23 14,-42 30,-42z"/>
  <path class="fil1"  valor="14" status="" d="M2484 1412l490 0 0 1154 -638 0 0 -991 148 -163zm-19 1093l380 0 0 -27 -380 0 0 27zm0 -137l380 0 0 -26 -380 0 0 26zm0 46l380 0 0 -27 -380 0 0 27zm0 46l380 0 0 -27 -380 0 0 27zm-38 -577c17,0 31,18 31,42 0,23 -14,41 -31,41 -16,0 -30,-18 -30,-41 0,-24 14,-42 30,-42z"/>
  <path class="fil1"  valor="15" status="" d="M2484 2702l490 0 0 1154 -638 0 0 -991 148 -163zm-19 1093l380 0 0 -27 -380 0 0 27zm0 -137l380 0 0 -26 -380 0 0 26zm0 46l380 0 0 -27 -380 0 0 27zm0 45l380 0 0 -26 -380 0 0 26zm-38 -576c17,0 31,18 31,42 0,23 -14,41 -31,41 -16,0 -30,-18 -30,-41 0,-24 14,-42 30,-42z"/>
  <path class="fil1"  valor="16" status="" d="M2484 3992l490 0 0 1154 -638 0 0 -991 148 -163zm-19 1093l380 0 0 -27 -380 0 0 27zm0 -137l380 0 0 -26 -380 0 0 26zm0 46l380 0 0 -27 -380 0 0 27zm0 45l380 0 0 -26 -380 0 0 26zm-38 -576c17,0 31,18 31,41 0,24 -14,42 -31,42 -16,0 -30,-18 -30,-42 0,-23 14,-41 30,-41z"/>
 </g>
</svg>
</div>

<div class="menu">
	<h1>Controle de Armários</h1>
	<hr>
	<form>
		<fieldset>
			<legend>Registro de empréstimo:</legend>
			<h4>
				<ol type="1">
					<li>Escolha um Armário: <input type="text" id="display" name="armario" style="width: 20px;"readonly></li>
					<li>Defina o prazo: <select id="prazo" name="prazo">
											<option value="12">12 meses</option>
											<option value="6">6 meses</option>
											<option value="3">3 meses</option>
										</select>						
					</li>
					<li>Revise a escolha!</li>
					<li>Confirme: <button id="ir">Registrar Empréstimo</button></li>
			</h4>			
		</fieldset>

</div>


<script>
var portas = document.querySelectorAll('.fil1');
var display = document.querySelector('#display');

Limpar();
function Limpar(){	
	bloquear();
	
	//função que trará os status dos armarios do banco de dados	
	for(i=0; i<portas.length; i++){		
		if(portas[i].getAttribute('status') == "ocupado"){
			portas[i].style.fill="gray"; //cor
		}
		else if(portas[i].getAttribute('status') == "vencido"){
			portas[i].style.fill="red"; //cor
		}else{
			portas[i].setAttribute("status","");
			portas[i].style.fill="white";
		}
		//limpar as seleções de "reserva" e o que é exibido na tela
		display.value="";
		localStorage.removeItem('porta');
		
	}	
}

//evento de clique é programado ao carregar a página
for(i=0; i<portas.length; i++){
	portas[i].addEventListener('click', function(){
		
		escolher(this);

	});
}

function escolher(porta){
	//função que marca e desmarca conforme a escolha do usuário
	if(porta.getAttribute('status') == "p"){
		Limpar();			
	}
	else if(porta.getAttribute('status') == ""){
		Limpar();
		porta.style.fill="green"; //cor ao clicar
		porta.setAttribute("status","p");
		display.value=porta.getAttribute('valor');
		localStorage.setItem('porta', porta.getAttribute('valor'));
	}
	permitir();
}

function bloquear(){
	var p = document.getElementById('prazo');
	var btn = document.getElementById('ir');
	p.disabled = true;
	btn.disabled = true;
}
function permitir(){
	var p = document.getElementById('prazo');
	var btn = document.getElementById('ir');
	p.disabled = false;
	btn.disabled = false;
}


</script>
</body>
</html>